<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2317px" preserveAspectRatio="none" style="width:2314px;height:2317px;background:#FFFFFF;" version="1.1" viewBox="0 0 2314 2317" width="2314px" zoomAndPan="magnify"><title>EIE Header Creation &amp; Propagation Flow</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="269.9307" x="1018.2849" y="29.5332">EIE Header Creation &amp; Propagation Flow</text><rect fill="none" height="172.4609" style="stroke:#000000;stroke-width:1.5;" width="620.04" x="1162.8906" y="945.7656"/><rect fill="none" height="202.2969" style="stroke:#000000;stroke-width:1.5;" width="524.5698" x="1772.9307" y="1195.2813"/><rect fill="none" height="137.2422" style="stroke:#000000;stroke-width:1.5;" width="394.5957" x="1162.8906" y="1441.9297"/><rect fill="none" height="245.6484" style="stroke:#000000;stroke-width:1.5;" width="524.5698" x="1772.9307" y="1881.6875"/><g><title>User / Client App</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="56.9102" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="121.2188" y2="2235.3906"/></g><g><title>APIC Token Endpoint</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="307.7944" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="311.6948" x2="311.6948" y1="121.2188" y2="2235.3906"/></g><g><title>Directory Service V3</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="628.7441" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="631.9478" x2="631.9478" y1="121.2188" y2="2235.3906"/></g><g><title>IMI (System of Record)</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="852.8921" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="855.9336" x2="855.9336" y1="121.2188" y2="2235.3906"/></g><g><title>APIC Gateway (Runtime)</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="1027.4297" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1030.8506" x2="1030.8506" y1="121.2188" y2="2235.3906"/></g><g><title>OpenPlatform BFF</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="1234.2422" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1237.8906" x2="1237.8906" y1="121.2188" y2="2235.3906"/></g><g><title>Plan Groups Service</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="1548.4863" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1552.29" x2="1552.29" y1="121.2188" y2="2235.3906"/></g><g><title>MMF / Features API</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="1699.3066" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1702.6826" x2="1702.6826" y1="121.2188" y2="2235.3906"/></g><g><title>Benefits Service</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="1836.5098" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1839.9307" x2="1839.9307" y1="121.2188" y2="2235.3906"/></g><g><title>Redis (List Cache)</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="2023.4287" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2026.853" x2="2026.853" y1="121.2188" y2="2235.3906"/></g><g><title>S3 (PDF Cache)</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="2148.3525" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2152.0044" x2="2152.0044" y1="121.2188" y2="2235.3906"/></g><g><title>Core API</title><rect fill="#000000" fill-opacity="0.00000" height="2114.1719" width="8" x="2248.1006" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2251.7007" x2="2251.7007" y1="121.2188" y2="2235.3906"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8203" x="5" y="118.1426">User / Client App</text><ellipse cx="60.9102" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60.9102,60.1094 L60.9102,87.1094 M47.9102,68.1094 L73.9102,68.1094 M60.9102,87.1094 L47.9102,102.1094 M60.9102,87.1094 L73.9102,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8203" x="5" y="2248.9238">User / Client App</text><ellipse cx="60.9102" cy="2260.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60.9102,2268.5 L60.9102,2295.5 M47.9102,2276.5 L73.9102,2276.5 M60.9102,2295.5 L47.9102,2310.5 M60.9102,2295.5 L73.9102,2310.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="TokenEP"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.1992" x="236.6948" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.6338" x="244.4775" y="92.5332">APIC Token Endpoint</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.1992" x="243.6948" y="110.1426">(/v7/auth/oauth/token)</text></g><g class="participant participant-tail" data-participant="TokenEP"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.1992" x="236.6948" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.6338" x="244.4775" y="2255.9238">APIC Token Endpoint</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.1992" x="243.6948" y="2273.5332">(/v7/auth/oauth/token)</text></g><g class="participant participant-head" data-participant="DSV"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141.5928" x="561.9478" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.5928" x="568.9478" y="92.5332">Directory Service V3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1104" x="613.689" y="110.1426">(DSV)</text></g><g class="participant participant-tail" data-participant="DSV"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141.5928" x="561.9478" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.5928" x="568.9478" y="2255.9238">Directory Service V3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1104" x="613.689" y="2273.5332">(DSV)</text></g><g class="participant participant-head" data-participant="IMI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.917" x="777.9336" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.917" x="784.9336" y="110.1426">IMI (System of Record)</text></g><g class="participant participant-tail" data-participant="IMI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.917" x="777.9336" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.917" x="784.9336" y="2255.9238">IMI (System of Record)</text></g><g class="participant participant-head" data-participant="APIGW"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1582" x="945.8506" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1582" x="952.8506" y="92.5332">APIC Gateway (Runtime)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8896" x="1011.9849" y="110.1426">(APIc)</text></g><g class="participant participant-tail" data-participant="APIGW"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1582" x="945.8506" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1582" x="952.8506" y="2255.9238">APIC Gateway (Runtime)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8896" x="1011.9849" y="2273.5332">(APIc)</text></g><g class="participant participant-head" data-participant="BFF"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.7031" x="1172.8906" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7031" x="1179.8906" y="92.5332">OpenPlatform BFF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9443" x="1180.27" y="110.1426">(/sa/plandocs/v1/*)</text></g><g class="participant participant-tail" data-participant="BFF"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.7031" x="1172.8906" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7031" x="1179.8906" y="2255.9238">OpenPlatform BFF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9443" x="1180.27" y="2273.5332">(/sa/plandocs/v1/*)</text></g><g class="participant participant-head" data-participant="PlanGroups"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.3926" x="1481.29" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.3926" x="1488.29" y="110.1426">Plan Groups Service</text></g><g class="participant participant-tail" data-participant="PlanGroups"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.3926" x="1481.29" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.3926" x="1488.29" y="2255.9238">Plan Groups Service</text></g><g class="participant participant-head" data-participant="MMF"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.248" x="1633.6826" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.248" x="1640.6826" y="110.1426">MMF / Features API</text></g><g class="participant participant-tail" data-participant="MMF"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.248" x="1633.6826" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.248" x="1640.6826" y="2255.9238">MMF / Features API</text></g><g class="participant participant-head" data-participant="Benefits"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1582" x="1782.9307" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="1789.9307" y="110.1426">Benefits Service</text></g><g class="participant participant-tail" data-participant="Benefits"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1582" x="1782.9307" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="1789.9307" y="2255.9238">Benefits Service</text></g><g class="participant participant-head" data-participant="Redis"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.1514" x="1966.853" y="118.1426">Redis (List Cache)</text><path d="M2009.4287,67.6094 C2009.4287,57.6094 2027.4287,57.6094 2027.4287,57.6094 C2027.4287,57.6094 2045.4287,57.6094 2045.4287,67.6094 L2045.4287,93.6094 C2045.4287,103.6094 2027.4287,103.6094 2027.4287,103.6094 C2027.4287,103.6094 2009.4287,103.6094 2009.4287,93.6094 L2009.4287,67.6094" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2009.4287,67.6094 C2009.4287,77.6094 2027.4287,77.6094 2027.4287,77.6094 C2027.4287,77.6094 2045.4287,77.6094 2045.4287,67.6094" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="Redis"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.1514" x="1966.853" y="2248.9238">Redis (List Cache)</text><path d="M2009.4287,2262 C2009.4287,2252 2027.4287,2252 2027.4287,2252 C2027.4287,2252 2045.4287,2252 2045.4287,2262 L2045.4287,2288 C2045.4287,2298 2027.4287,2298 2027.4287,2298 C2027.4287,2298 2009.4287,2298 2009.4287,2288 L2009.4287,2262" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2009.4287,2262 C2009.4287,2272 2027.4287,2272 2027.4287,2272 C2027.4287,2272 2045.4287,2272 2045.4287,2262" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="S3"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.6963" x="2098.0044" y="118.1426">S3 (PDF Cache)</text><path d="M2134.3525,67.6094 C2134.3525,57.6094 2152.3525,57.6094 2152.3525,57.6094 C2152.3525,57.6094 2170.3525,57.6094 2170.3525,67.6094 L2170.3525,93.6094 C2170.3525,103.6094 2152.3525,103.6094 2152.3525,103.6094 C2152.3525,103.6094 2134.3525,103.6094 2134.3525,93.6094 L2134.3525,67.6094" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2134.3525,67.6094 C2134.3525,77.6094 2152.3525,77.6094 2152.3525,77.6094 C2152.3525,77.6094 2170.3525,77.6094 2170.3525,67.6094" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="S3"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.6963" x="2098.0044" y="2248.9238">S3 (PDF Cache)</text><path d="M2134.3525,2262 C2134.3525,2252 2152.3525,2252 2152.3525,2252 C2152.3525,2252 2170.3525,2252 2170.3525,2262 L2170.3525,2288 C2170.3525,2298 2152.3525,2298 2152.3525,2298 C2152.3525,2298 2134.3525,2298 2134.3525,2288 L2134.3525,2262" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2134.3525,2262 C2134.3525,2272 2152.3525,2272 2152.3525,2272 C2152.3525,2272 2170.3525,2272 2170.3525,2262" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="Core"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.7998" x="2216.7007" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7998" x="2223.7007" y="110.1426">Core API</text></g><g class="participant participant-tail" data-participant="Core"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.7998" x="2216.7007" y="2234.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7998" x="2223.7007" y="2255.9238">Core API</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2307.5005" x="0" y="152.3945"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="152.3945" y2="152.3945"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="155.3945" y2="155.3945"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="194.5845" x="1056.458" y="141.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="176.9727" x="1062.458" y="158.7139">OAuth/OIDC Token Issuance</text><g class="message" data-participant-1="Client" data-participant-2="TokenEP"><polygon fill="#181818" points="299.7944,210.2734,309.7944,214.2734,299.7944,218.2734,303.7944,214.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="60.9102" x2="305.7944" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5615" x="67.9102" y="193.0654">Authorization Code exchange</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8188" x="67.9102" y="209.417">POST /v7/auth/oauth/token</text></g><g class="message" data-participant-1="TokenEP" data-participant-2="DSV"><polygon fill="#181818" points="620.7441,256.9766,630.7441,260.9766,620.7441,264.9766,624.7441,260.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="311.7944" x2="626.7441" y1="260.9766" y2="260.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296.9497" x="318.7944" y="239.7686">GET /DirectoryServiceV3/retrieveuserInfo/{id}/users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5825" x="318.7944" y="256.1201">?clientId=...&amp;domain=...</text></g><g class="message" data-participant-1="DSV" data-participant-2="IMI"><polygon fill="#181818" points="844.8921,287.3281,854.8921,291.3281,844.8921,295.3281,848.8921,291.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="632.7441" x2="850.8921" y1="291.3281" y2="291.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.1479" x="639.7441" y="286.4717">getProxyIIDByUserLoginId(loginId)</text></g><g class="message" data-participant-1="IMI" data-participant-2="DSV"><polygon fill="#181818" points="643.7441,317.6797,633.7441,321.6797,643.7441,325.6797,639.7441,321.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="637.7441" x2="855.8921" y1="321.6797" y2="321.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.9243" x="649.7441" y="316.8232">preferredProxyId, other identifiers</text></g><g class="message" data-participant-1="DSV" data-participant-2="TokenEP"><polygon fill="#181818" points="322.7944,348.0313,312.7944,352.0313,322.7944,356.0313,318.7944,352.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="316.7944" x2="631.7441" y1="352.0313" y2="352.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.7925" x="328.7944" y="347.1748">user profile + businessIdentifier list</text></g><g class="message" data-participant-1="TokenEP" data-participant-2="TokenEP"><line style="stroke:#181818;stroke-width:1;" x1="311.7944" x2="353.7944" y1="398.7344" y2="398.7344"/><line style="stroke:#181818;stroke-width:1;" x1="353.7944" x2="353.7944" y1="398.7344" y2="411.7344"/><line style="stroke:#181818;stroke-width:1;" x1="312.7944" x2="353.7944" y1="411.7344" y2="411.7344"/><polygon fill="#181818" points="322.7944,407.7344,312.7944,411.7344,322.7944,415.7344,318.7944,411.7344" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.958" x="318.7944" y="377.5264">Build OIDC id_token with claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.5405" x="318.7944" y="393.8779">(ae_accountId, ae_busIndId, ae_hcr, ...)</text></g><g class="message" data-participant-1="TokenEP" data-participant-2="Client"><polygon fill="#181818" points="71.9102,438.0859,61.9102,442.0859,71.9102,446.0859,67.9102,442.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="65.9102" x2="310.7944" y1="442.0859" y2="442.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.8188" x="77.9102" y="437.2295">access_token, refresh_token,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53.4536" x="251.3408" y="437.2295">id_token</text></g><path d="M316,455.0859 L316,546.0859 L558,546.0859 L558,465.0859 L548,455.0859 L316,455.0859" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M548,455.0859 L548,465.0859 L558,465.0859 L548,455.0859" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.0889" x="322" y="473.5811">id_token carries Aetna-specific claims:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.2734" x="322" y="489.9326">- ae_accountId (src~value)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.7271" x="322" y="506.2842">- ae_busIndId (list of src~value)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.688" x="322" y="522.6357">- ae_hcr, ae_version, etc.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0679" x="322" y="538.9873">These are the source of EIE headers.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2307.5005" x="0" y="573.0195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="573.0195" y2="573.0195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="576.0195" y2="576.0195"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="176.5127" x="1065.4939" y="561.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="158.9009" x="1071.4939" y="579.3389">App Request with Tokens</text><g class="message" data-participant-1="Client" data-participant-2="APIGW"><polygon fill="#181818" points="1019.4297,647.25,1029.4297,651.25,1019.4297,655.25,1023.4297,651.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="60.9102" x2="1025.4297" y1="651.25" y2="651.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.8398" x="67.9102" y="613.6904">POST /sa/plandocs/v1/list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.9307" x="67.9102" y="630.042">Headers: Authorization: Bearer ...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.7407" x="67.9102" y="646.3936">Headers: id_token: &lt;OIDC JWT&gt;</text></g><g class="message" data-participant-1="APIGW" data-participant-2="APIGW"><line style="stroke:#181818;stroke-width:1;" x1="1031.4297" x2="1073.4297" y1="697.9531" y2="697.9531"/><line style="stroke:#181818;stroke-width:1;" x1="1073.4297" x2="1073.4297" y1="697.9531" y2="710.9531"/><line style="stroke:#181818;stroke-width:1;" x1="1032.4297" x2="1073.4297" y1="710.9531" y2="710.9531"/><polygon fill="#181818" points="1042.4297,706.9531,1032.4297,710.9531,1042.4297,714.9531,1038.4297,710.9531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8926" x="1038.4297" y="676.7451">Validate tokens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.1689" x="1038.4297" y="693.0967">Parse id_token claims</text></g><g class="message" data-participant-1="APIGW" data-participant-2="APIGW"><line style="stroke:#181818;stroke-width:1;" x1="1031.4297" x2="1073.4297" y1="757.6563" y2="757.6563"/><line style="stroke:#181818;stroke-width:1;" x1="1073.4297" x2="1073.4297" y1="757.6563" y2="770.6563"/><line style="stroke:#181818;stroke-width:1;" x1="1032.4297" x2="1073.4297" y1="770.6563" y2="770.6563"/><polygon fill="#181818" points="1042.4297,766.6563,1032.4297,770.6563,1042.4297,774.6563,1038.4297,770.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5835" x="1038.4297" y="736.4482">Map claims -&gt; EIE Headers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6543" x="1038.4297" y="752.7998">(e.g., eieheaderusercontext, ...)</text></g><path d="M1036,783.6563 L1036,842.6563 L1307,842.6563 L1307,793.6563 L1297,783.6563 L1036,783.6563" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1297,783.6563 L1297,793.6563 L1307,793.6563 L1297,783.6563" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.3354" x="1042" y="802.1514">APIGW</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45.5381" x="1088.9473" y="802.1514">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.918" x="1138.0972" y="802.1514">EIE headers from id_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6899" x="1042" y="818.5029">and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.749" x="1067.3018" y="818.5029">attaches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0107" x="1123.6626" y="818.5029">them to all downstream calls</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6099" x="1042" y="834.8545">as HTTP headers over HTTPS.</text><g class="message" data-participant-1="APIGW" data-participant-2="BFF"><polygon fill="#181818" points="1226.2422,882.4141,1236.2422,886.4141,1226.2422,890.4141,1230.2422,886.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1031.4297" x2="1232.2422" y1="886.4141" y2="886.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.1226" x="1038.4297" y="865.2061">Forward /sa/plandocs/v1/list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8125" x="1038.4297" y="881.5576">Headers: EIE headers (derived)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2307.5005" x="0" y="915.5898"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="915.5898" y2="915.5898"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="918.5898" y2="918.5898"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="131.7363" x="1087.8821" y="904.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114.1245" x="1093.8821" y="921.9092">BFF Orchestration</text><path d="M1162.8906,945.7656 L1223.0615,945.7656 L1223.0615,954.1172 L1213.0615,964.1172 L1162.8906,964.1172 L1162.8906,945.7656" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="172.4609" style="stroke:#000000;stroke-width:1.5;" width="620.04" x="1162.8906" y="945.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="1177.8906" y="960.2607">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.8315" x="1238.0615" y="959.1846">[Optional prefetch / groups]</text><g class="message" data-participant-1="BFF" data-participant-2="PlanGroups"><polygon fill="#181818" points="1540.4863,998.8203,1550.4863,1002.8203,1540.4863,1006.8203,1544.4863,1002.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1546.4863" y1="1002.8203" y2="1002.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.6162" x="1245.2422" y="981.6123">GET /v3/plangroups</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9053" x="1245.2422" y="997.9639">Headers: EIE headers</text></g><g class="message" data-participant-1="PlanGroups" data-participant-2="BFF"><polygon fill="#181818" points="1249.2422,1029.1719,1239.2422,1033.1719,1249.2422,1037.1719,1245.2422,1033.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1243.2422" x2="1551.4863" y1="1033.1719" y2="1033.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.3271" x="1255.2422" y="1028.3154">plangroups</text></g><g class="message" data-participant-1="BFF" data-participant-2="MMF"><polygon fill="#181818" points="1691.3066,1075.875,1701.3066,1079.875,1691.3066,1083.875,1695.3066,1079.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1697.3066" y1="1079.875" y2="1079.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9326" x="1245.2422" y="1058.667">POST /v2/features</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9053" x="1245.2422" y="1075.0186">Headers: EIE headers</text></g><g class="message" data-participant-1="MMF" data-participant-2="BFF"><polygon fill="#181818" points="1249.2422,1106.2266,1239.2422,1110.2266,1249.2422,1114.2266,1245.2422,1110.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1243.2422" x2="1702.3066" y1="1110.2266" y2="1110.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.8696" x="1255.2422" y="1105.3701">feature flags (e.g., CVSSuperApp, PlanDocsMsgAvail)</text></g><g class="message" data-participant-1="BFF" data-participant-2="Benefits"><polygon fill="#181818" points="1828.5098,1176.2813,1838.5098,1180.2813,1828.5098,1184.2813,1832.5098,1180.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1834.5098" y1="1180.2813" y2="1180.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.1353" x="1245.2422" y="1142.7217">POST /v1/plan-document-list/retrieve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6543" x="1245.2422" y="1159.0732">Body: memberships/policies/dateAsOf</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9053" x="1245.2422" y="1175.4248">Headers: EIE headers</text></g><path d="M1772.9307,1195.2813 L1833.1016,1195.2813 L1833.1016,1203.6328 L1823.1016,1213.6328 L1772.9307,1213.6328 L1772.9307,1195.2813" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="202.2969" style="stroke:#000000;stroke-width:1.5;" width="524.5698" x="1772.9307" y="1195.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="1787.9307" y="1209.7764">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106.9707" x="1848.1016" y="1208.7002">[Redis list cache hit]</text><g class="message" data-participant-1="Benefits" data-participant-2="Redis"><polygon fill="#181818" points="2015.4287,1231.9844,2025.4287,1235.9844,2015.4287,1239.9844,2019.4287,1235.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2021.4287" y1="1235.9844" y2="1235.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.9727" x="1847.5098" y="1231.1279">GET list(cacheKey)</text></g><g class="message" data-participant-1="Redis" data-participant-2="Benefits"><polygon fill="#181818" points="1851.5098,1262.3359,1841.5098,1266.3359,1851.5098,1270.3359,1847.5098,1266.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1845.5098" x2="2026.4287" y1="1266.3359" y2="1266.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.8882" x="1857.5098" y="1261.4795">list</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1772.9307" x2="2297.5005" y1="1275.3359" y2="1275.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="68.4707" x="1777.9307" y="1286.7549">[Cache miss]</text><g class="message" data-participant-1="Benefits" data-participant-2="Core"><polygon fill="#181818" points="2240.1006,1324.875,2250.1006,1328.875,2240.1006,1332.875,2244.1006,1328.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2246.1006" y1="1328.875" y2="1328.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.8252" x="1847.5098" y="1307.667">POST /eieheader/v4/.../search/retrieve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9053" x="1847.5098" y="1324.0186">Headers: EIE headers</text></g><g class="message" data-participant-1="Core" data-participant-2="Benefits"><polygon fill="#181818" points="1851.5098,1355.2266,1841.5098,1359.2266,1851.5098,1363.2266,1847.5098,1359.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1845.5098" x2="2251.1006" y1="1359.2266" y2="1359.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.8882" x="1857.5098" y="1354.3701">list</text></g><g class="message" data-participant-1="Benefits" data-participant-2="Redis"><polygon fill="#181818" points="2015.4287,1385.5781,2025.4287,1389.5781,2015.4287,1393.5781,2019.4287,1389.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2021.4287" y1="1389.5781" y2="1389.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.9189" x="1847.5098" y="1384.7217">SET list(cacheKey, TTL=1h)</text></g><g class="message" data-participant-1="Benefits" data-participant-2="BFF"><polygon fill="#181818" points="1249.2422,1422.9297,1239.2422,1426.9297,1249.2422,1430.9297,1245.2422,1426.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1243.2422" x2="1839.5098" y1="1426.9297" y2="1426.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.3115" x="1255.2422" y="1422.0732">aggregated list (+ reasonCode if HHL)</text></g><path d="M1162.8906,1441.9297 L1223.0615,1441.9297 L1223.0615,1450.2813 L1213.0615,1460.2813 L1162.8906,1460.2813 L1162.8906,1441.9297" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="137.2422" style="stroke:#000000;stroke-width:1.5;" width="394.5957" x="1162.8906" y="1441.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="1177.8906" y="1456.4248">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.04" x="1238.0615" y="1455.3486">[HHL Not Signed]</text><g class="message" data-participant-1="BFF" data-participant-2="BFF"><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1280.2422" y1="1482.6328" y2="1482.6328"/><line style="stroke:#181818;stroke-width:1;" x1="1280.2422" x2="1280.2422" y1="1482.6328" y2="1495.6328"/><line style="stroke:#181818;stroke-width:1;" x1="1239.2422" x2="1280.2422" y1="1495.6328" y2="1495.6328"/><polygon fill="#181818" points="1249.2422,1491.6328,1239.2422,1495.6328,1249.2422,1499.6328,1245.2422,1495.6328" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.2441" x="1245.2422" y="1477.7764">Build empty data[] + readCommunicationsResponse</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1162.8906" x2="1557.4863" y1="1504.6328" y2="1504.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73.9546" x="1167.8906" y="1516.0518">[Normal docs]</text><g class="message" data-participant-1="BFF" data-participant-2="BFF"><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1280.2422" y1="1558.1719" y2="1558.1719"/><line style="stroke:#181818;stroke-width:1;" x1="1280.2422" x2="1280.2422" y1="1558.1719" y2="1571.1719"/><line style="stroke:#181818;stroke-width:1;" x1="1239.2422" x2="1280.2422" y1="1571.1719" y2="1571.1719"/><polygon fill="#181818" points="1249.2422,1567.1719,1239.2422,1571.1719,1249.2422,1575.1719,1245.2422,1571.1719" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6162" x="1245.2422" y="1536.9639">Transform to simplified data[]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.146" x="1245.2422" y="1553.3154">(documentId, documentName, documentUrl, planId)</text></g><g class="message" data-participant-1="BFF" data-participant-2="APIGW"><polygon fill="#181818" points="1042.4297,1604.5234,1032.4297,1608.5234,1042.4297,1612.5234,1038.4297,1608.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1036.4297" x2="1237.2422" y1="1608.5234" y2="1608.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.728" x="1048.4297" y="1603.667">PlanDoc list response</text></g><g class="message" data-participant-1="APIGW" data-participant-2="Client"><polygon fill="#181818" points="71.9102,1634.875,61.9102,1638.875,71.9102,1642.875,67.9102,1638.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="65.9102" x2="1030.4297" y1="1638.875" y2="1638.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.728" x="77.9102" y="1634.0186">PlanDoc list response</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2307.5005" x="0" y="1668.0508"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="1668.0508" y2="1668.0508"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2307.5005" y1="1671.0508" y2="1671.0508"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="225.6626" x="1040.9189" y="1656.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="208.0508" x="1046.9189" y="1674.3701">PDF Retrieval (Document Stream)</text><g class="message" data-participant-1="Client" data-participant-2="APIGW"><polygon fill="#181818" points="1019.4297,1725.9297,1029.4297,1729.9297,1019.4297,1733.9297,1023.4297,1729.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="60.9102" x2="1025.4297" y1="1729.9297" y2="1729.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263.7515" x="67.9102" y="1708.7217">POST /sa/plandocs/v1/retrieve { documentId }</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.8452" x="67.9102" y="1725.0732">Authorization + id_token</text></g><g class="message" data-participant-1="APIGW" data-participant-2="APIGW"><line style="stroke:#181818;stroke-width:1;" x1="1031.4297" x2="1073.4297" y1="1760.2813" y2="1760.2813"/><line style="stroke:#181818;stroke-width:1;" x1="1073.4297" x2="1073.4297" y1="1760.2813" y2="1773.2813"/><line style="stroke:#181818;stroke-width:1;" x1="1032.4297" x2="1073.4297" y1="1773.2813" y2="1773.2813"/><polygon fill="#181818" points="1042.4297,1769.2813,1032.4297,1773.2813,1042.4297,1777.2813,1038.4297,1773.2813" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7808" x="1038.4297" y="1755.4248">Validate, extract EIE</text></g><g class="message" data-participant-1="APIGW" data-participant-2="BFF"><polygon fill="#181818" points="1226.2422,1799.6328,1236.2422,1803.6328,1226.2422,1807.6328,1230.2422,1803.6328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1031.4297" x2="1232.2422" y1="1803.6328" y2="1803.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.5635" x="1038.4297" y="1798.7764">Forward with EIE headers</text></g><g class="message" data-participant-1="BFF" data-participant-2="Benefits"><polygon fill="#181818" points="1828.5098,1862.6875,1838.5098,1866.6875,1828.5098,1870.6875,1832.5098,1866.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1238.2422" x2="1834.5098" y1="1866.6875" y2="1866.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.918" x="1245.2422" y="1829.1279">POST /v1/plan-document/retrieve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.3442" x="1245.2422" y="1845.4795">{ communicationContentResourceId }</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.5444" x="1245.2422" y="1861.8311">EIE headers</text></g><path d="M1772.9307,1881.6875 L1833.1016,1881.6875 L1833.1016,1890.0391 L1823.1016,1900.0391 L1772.9307,1900.0391 L1772.9307,1881.6875" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="245.6484" style="stroke:#000000;stroke-width:1.5;" width="524.5698" x="1772.9307" y="1881.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="1787.9307" y="1896.1826">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96.5776" x="1848.1016" y="1895.1064">[S3 PDF cache hit]</text><g class="message" data-participant-1="Benefits" data-participant-2="S3"><polygon fill="#181818" points="2140.3525,1918.3906,2150.3525,1922.3906,2140.3525,1926.3906,2144.3525,1922.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2146.3525" y1="1922.3906" y2="1922.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.1035" x="1847.5098" y="1917.5342">GET object(resourceId)</text></g><g class="message" data-participant-1="S3" data-participant-2="Benefits"><polygon fill="#181818" points="1851.5098,1948.7422,1841.5098,1952.7422,1851.5098,1956.7422,1847.5098,1952.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1845.5098" x2="2151.3525" y1="1952.7422" y2="1952.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60.6836" x="1857.5098" y="1947.8857">PDF bytes</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1772.9307" x2="2297.5005" y1="1961.7422" y2="1961.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="68.4707" x="1777.9307" y="1973.1611">[Cache miss]</text><g class="message" data-participant-1="Benefits" data-participant-2="Core"><polygon fill="#181818" points="2240.1006,2011.2813,2250.1006,2015.2813,2240.1006,2019.2813,2244.1006,2015.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2246.1006" y1="2015.2813" y2="2015.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.7114" x="1847.5098" y="1994.0732">GET /eieheader/v5/communicationcontents/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.5444" x="1847.5098" y="2010.4248">EIE headers</text></g><g class="message" data-participant-1="Core" data-participant-2="Benefits"><polygon fill="#181818" points="1851.5098,2041.6328,1841.5098,2045.6328,1851.5098,2049.6328,1847.5098,2045.6328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1845.5098" x2="2251.1006" y1="2045.6328" y2="2045.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60.6836" x="1857.5098" y="2040.7764">PDF bytes</text></g><g class="message" data-participant-1="Benefits" data-participant-2="Benefits"><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="1882.5098" y1="2075.9844" y2="2075.9844"/><line style="stroke:#181818;stroke-width:1;" x1="1882.5098" x2="1882.5098" y1="2075.9844" y2="2088.9844"/><line style="stroke:#181818;stroke-width:1;" x1="1841.5098" x2="1882.5098" y1="2088.9844" y2="2088.9844"/><polygon fill="#181818" points="1851.5098,2084.9844,1841.5098,2088.9844,1851.5098,2092.9844,1847.5098,2088.9844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2217" x="1847.5098" y="2071.1279">0-byte check (guard)</text></g><g class="message" data-participant-1="Benefits" data-participant-2="S3"><polygon fill="#181818" points="2140.3525,2115.3359,2150.3525,2119.3359,2140.3525,2123.3359,2144.3525,2119.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1840.5098" x2="2146.3525" y1="2119.3359" y2="2119.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.3799" x="1847.5098" y="2114.4795">PUT object(resourceId)</text></g><g class="message" data-participant-1="Benefits" data-participant-2="BFF"><polygon fill="#181818" points="1249.2422,2152.6875,1239.2422,2156.6875,1249.2422,2160.6875,1245.2422,2156.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1243.2422" x2="1839.5098" y1="2156.6875" y2="2156.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3418" x="1255.2422" y="2151.8311">PDF stream</text></g><g class="message" data-participant-1="BFF" data-participant-2="APIGW"><polygon fill="#181818" points="1042.4297,2183.0391,1032.4297,2187.0391,1042.4297,2191.0391,1038.4297,2187.0391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1036.4297" x2="1237.2422" y1="2187.0391" y2="2187.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3418" x="1048.4297" y="2182.1826">PDF stream</text></g><g class="message" data-participant-1="APIGW" data-participant-2="Client"><polygon fill="#181818" points="71.9102,2213.3906,61.9102,2217.3906,71.9102,2221.3906,67.9102,2217.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="65.9102" x2="1030.4297" y1="2217.3906" y2="2217.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8398" x="77.9102" y="2212.5342">application/pdf</text></g><!--SRC=[ZLPjRzis4FwkNt78Xq9sRMjTDWmmbWw9y-OjgOtOJJyiGy58PukRH6eavSGhkj- -8obPakDW_MABuhqyT_VSdGmt6SB5z0AkaIMeOAAG6Iu5l86vaWLR-zDb9f-2WCL6AZZwg4amWad6KHWuBOeZOBew1WLJXiUyO7HrT3gVJc0f_q815o8f91VcGOJHvgU8bIQDfFirzhxdR3ZHYtdNo3bNQ1rlOO5gmsE4-sEoShwuzqhqq5MOtauXN6ormHpa2kumbYhnidHr0E4LC_Z4jX3UbSBm77jadYvYhqDFLv-wMhC2nJnZPYLL3cUNbpOepQ8YOoAHiOusxwA-LwRBhYgf2RXIiYnq7OyJjE_zwwxyxUqbvVgIgb8gT62SEBtkofsXm1KtNQFroo1XXZqoZN1qXmdN4DvmRM32uXGzJlUw9ROuXd1-VjaMMHntFKwamXqUUmY2anEOdTgQpgRdTU6dMfTCKDLEJeAACiFtTQN7OCMbulzudaraWe3FSSh46X_4VBPOmY6w19M-DKNr7yFL1Gdkc5BbuFuuKcWKnmsMnDcfMCde2q- -HlQa7yGliSCpJKv6ez6RHEQC2_iOa4bhcTWoXZKQweJdxNHwVhQrrB-HQowcIPZv_rvW-JQiWHGALwWK9buf6O0qAVKBJyWJNt5oxCstas3naAPSSUh6j_1OQYvGw-bE1pAgLpledUfPoRC4NBvvyjab1vwuII7E6Cyfo93XPnR7ihI13e1EP7ugakgGnce057EliKxcVQ76G8g4mviT08L674phOxzVU-ptWq18Ww3uEZMswUfEtc6AcQ92487H23RK1SOKM5oX70T3QCE4KAlutmtBIkpvgnepX3OJriE-X0k4_ZUKOQBI0D34es2P8j6P4LEf2g1bgOY9f6r7Nkf6dXu5A1Amy1s1QPvHD_nT8hbnYNIXw2vztKmOW-VdNkTRW0_2prEzHt2g5n8OPJFUagcpD8QVNIL__RHy7mJEISlRFSiuTIY5uX1HUp15mJKfThbyeNRBYkhAlcnclUK6ZjOZoXH7dmlBmrWAWy-c8iLUMVqiz1xw_TWk2zJzVZkTi58otu4AA2yaoOonWyIAKXroYW1Oba4YduGsP2KdVcIP3cYIN2-NyvqjITLqRnRjAkqYfEawXakfdfXA_gyEROWX_V8DKk_QYfCLc2aBpoW_XgZMB3CmA-o9PRwfJPpI95xx6GrEYo0qSxiQGfjZXyBB7VPFsesQwpSNIAFMcASvNzDiytsqgjR0gsRjjjZPgwHXbR4rnUnhFRbVBCe25T5yu52SKxfkzVfqmtZMiqaEWiftlJrs0Dwvo8QKu3AdHXZQ3Eycx8Cuaybs33dcZmGcvOME2fdHka0TMTgUwjdg5U0kstupkVQEBLaWvSOcebviXCY9-3nRkT39_ORR7ibvzM47jvkQc56Jk3q6ETTwpwHTN7M0kpw8DZz4HFz8KxF6QIl4LzBkLk41rmVHB_RH3s2vl3bvb_hiDnfr7TbwhP0-n33nsGdVqYHcMWgtBVaAhgzlUZw7z0GVf845NmjC6XevEtvLO5wOBTXD__iVu2mb4vddfU2n8x- -GrtG7_h4VQ1F76OxDTPxvfQA2Us-WAYRDS-BpAwgf39DmwNcYTqqzVC7bcDp-gYoWQEzNQCDzLe3rXFKnwrgO5N_j_RKOJdRtFOZvixNZy88polFi71Zf_VjOxqc0No19Z3u-Y2wNp1lcz7tslocWVjCaoOsbaMl33EtUTea-yQUR77r2yJjkaxiN1U6gkkMeCV-eWdfkyzcxBK6N1pxxfEFVzANLgXsncm7acwt1wobnorjY6_gGJSzMotuOzJ17tlysdt1TP4VRC36UTTP8_7TqDu3WOh_Wd1TKjvx1-ATVpmOhwVhYsQrRlrAUy7bvkObWLb1xUC3ZOfa5Vm7]--></g></svg>