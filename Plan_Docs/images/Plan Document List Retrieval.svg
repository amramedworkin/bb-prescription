<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1463px" preserveAspectRatio="none" style="width:2112px;height:1463px;background:#FFFFFF;" version="1.1" viewBox="0 0 2112 1463" width="2112px" zoomAndPan="magnify"><title>Plan Document List Retrieval (AWS Integration)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="315.8135" x="894.5549" y="29.5332">Plan Document List Retrieval (AWS Integration)</text><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="197.9219"/></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="407.0313"/></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="369.5156" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="737.5469"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="271.625"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="480.7344"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="602.1406"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1046.3594"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1181.7656"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1303.1719"/></g><g><title>Core-Proxy Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1822.1587" y="811.25"/></g><g><title>Core Plan Document List API</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1997.8823" y="541.4375"/></g><g><title>Core Plan Document List API</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1997.8823" y="1242.4688"/></g><g><title>AH Client BFF</title><rect fill="#000000" fill-opacity="0.00000" height="1260.6563" width="8" x="48.731" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="121.2188" y2="1381.875"/></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#000000" fill-opacity="0.00000" height="1260.6563" width="8" x="587.1577" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="590.4565" x2="590.4565" y1="121.2188" y2="1381.875"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#000000" fill-opacity="0.00000" height="1260.6563" width="8" x="1642.8765" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1646.2769" x2="1646.2769" y1="121.2188" y2="1381.875"/></g><g><title>Core-Proxy Service</title><rect fill="#000000" fill-opacity="0.00000" height="1260.6563" width="8" x="1823.1587" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1826.4761" x2="1826.4761" y1="121.2188" y2="1381.875"/></g><g><title>Core Plan Document List API</title><rect fill="#000000" fill-opacity="0.00000" height="1260.6563" width="8" x="1998.8823" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2002.8413" x2="2002.8413" y1="121.2188" y2="1381.875"/></g><g class="participant participant-head" data-participant="ClientBFF"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="5" y="118.1426">AH Client BFF</text><ellipse cx="52.731" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.731,60.1094 L52.731,87.1094 M39.731,68.1094 L65.731,68.1094 M52.731,87.1094 L39.731,102.1094 M52.731,87.1094 L65.731,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="ClientBFF"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="5" y="1395.4082">AH Client BFF</text><ellipse cx="52.731" cy="1406.9844" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.731,1414.9844 L52.731,1441.9844 M39.731,1422.9844 L65.731,1422.9844 M52.731,1441.9844 L39.731,1456.9844 M52.731,1441.9844 L65.731,1456.9844" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="BenefitService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="305.4023" x="438.4565" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="291.4023" x="445.4565" y="110.1426">Benefit Service (AWS API Gateway + Lambda)</text></g><g class="participant participant-tail" data-participant="BenefitService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="305.4023" x="438.4565" y="1380.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="291.4023" x="445.4565" y="1402.4082">Benefit Service (AWS API Gateway + Lambda)</text></g><g class="participant participant-head" data-participant="Cache"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.1992" x="1544.2769" y="118.1426">Cache (e.g., Redis/ElastiCache)</text><path d="M1628.8765,67.6094 C1628.8765,57.6094 1646.8765,57.6094 1646.8765,57.6094 C1646.8765,57.6094 1664.8765,57.6094 1664.8765,67.6094 L1664.8765,93.6094 C1664.8765,103.6094 1646.8765,103.6094 1646.8765,103.6094 C1646.8765,103.6094 1628.8765,103.6094 1628.8765,93.6094 L1628.8765,67.6094" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1628.8765,67.6094 C1628.8765,77.6094 1646.8765,77.6094 1646.8765,77.6094 C1646.8765,77.6094 1664.8765,77.6094 1664.8765,67.6094" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="Cache"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.1992" x="1544.2769" y="1395.4082">Cache (e.g., Redis/ElastiCache)</text><path d="M1628.8765,1408.4844 C1628.8765,1398.4844 1646.8765,1398.4844 1646.8765,1398.4844 C1646.8765,1398.4844 1664.8765,1398.4844 1664.8765,1408.4844 L1664.8765,1434.4844 C1664.8765,1444.4844 1646.8765,1444.4844 1646.8765,1444.4844 C1646.8765,1444.4844 1628.8765,1444.4844 1628.8765,1434.4844 L1628.8765,1408.4844" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1628.8765,1408.4844 C1628.8765,1418.4844 1646.8765,1418.4844 1646.8765,1418.4844 C1646.8765,1418.4844 1664.8765,1418.4844 1664.8765,1408.4844" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="CoreProxy"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.3652" x="1759.4761" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3652" x="1766.4761" y="110.1426">Core-Proxy Service</text></g><g class="participant participant-tail" data-participant="CoreProxy"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.3652" x="1759.4761" y="1380.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3652" x="1766.4761" y="1402.4082">Core-Proxy Service</text></g><g class="participant participant-head" data-participant="CoreAPI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.082" x="1904.8413" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.082" x="1911.8413" y="110.1426">Core Plan Document List API</text></g><g class="participant participant-tail" data-participant="CoreAPI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.082" x="1904.8413" y="1380.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.082" x="1911.8413" y="1402.4082">Core Plan Document List API</text></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="197.9219"/></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="407.0313"/></g><g><title>Benefit Service (AWS API Gateway + Lambda)</title><rect fill="#FFFFFF" height="369.5156" style="stroke:#181818;stroke-width:1;" width="10" x="586.1577" y="737.5469"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="271.625"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="480.7344"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="602.1406"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1046.3594"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1181.7656"/></g><g><title>Cache (e.g., Redis/ElastiCache)</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1641.8765" y="1303.1719"/></g><g><title>Core-Proxy Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1822.1587" y="811.25"/></g><g><title>Core Plan Document List API</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1997.8823" y="541.4375"/></g><g><title>Core Plan Document List API</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1997.8823" y="1242.4688"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2105.9233" x="0" y="152.3945"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="152.3945" y2="152.3945"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="155.3945" y2="155.3945"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="381.6943" x="862.1145" y="141.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="364.0825" x="868.1145" y="158.7139">Scenario 1: Plan Document List (Commercial/IFP) - Cached</text><g class="message" data-participant-1="ClientBFF" data-participant-2="BenefitService"><polygon fill="#181818" points="574.1577,193.9219,584.1577,197.9219,574.1577,201.9219,578.1577,197.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.731" x2="580.1577" y1="197.9219" y2="197.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="514.4268" x="59.731" y="193.0654">POST /plan-document-list/retrieve (policyResourceId, membershipResourceId, dateAsOf)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="228.2734" y2="228.2734"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="228.2734" y2="241.2734"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="241.2734" y2="241.2734"/><polygon fill="#181818" points="607.1577,237.2734,597.1577,241.2734,607.1577,245.2734,603.1577,241.2734" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.5742" x="603.1577" y="223.417">Determine Cache Key (policyResourceId, dateAsOf)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,267.625,1639.8765,271.625,1629.8765,275.625,1633.8765,271.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1635.8765" y1="271.625" y2="271.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.3652" x="603.1577" y="266.7686">Check for cached data (Commercial/IFP key)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,297.9766,597.1577,301.9766,607.1577,305.9766,603.1577,301.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="1645.8765" y1="301.9766" y2="301.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.1416" x="613.1577" y="297.1201">Cache Hit (Plan Document List Data)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="ClientBFF"><polygon fill="#181818" points="63.731,328.3281,53.731,332.3281,63.731,336.3281,59.731,332.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="57.731" x2="590.1577" y1="332.3281" y2="332.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.7725" x="69.731" y="327.4717">Return Cached Plan Document List</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2105.9233" x="0" y="361.5039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="361.5039" y2="361.5039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="364.5039" y2="364.5039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="406.9644" x="849.4795" y="350.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="389.3525" x="855.4795" y="367.8232">Scenario 2: Plan Document List (Commercial/IFP) - Not Cached</text><g class="message" data-participant-1="ClientBFF" data-participant-2="BenefitService"><polygon fill="#181818" points="574.1577,403.0313,584.1577,407.0313,574.1577,411.0313,578.1577,407.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.731" x2="580.1577" y1="407.0313" y2="407.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="514.4268" x="59.731" y="402.1748">POST /plan-document-list/retrieve (policyResourceId, membershipResourceId, dateAsOf)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="437.3828" y2="437.3828"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="437.3828" y2="450.3828"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="450.3828" y2="450.3828"/><polygon fill="#181818" points="607.1577,446.3828,597.1577,450.3828,607.1577,454.3828,603.1577,450.3828" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.5742" x="603.1577" y="432.5264">Determine Cache Key (policyResourceId, dateAsOf)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,476.7344,1639.8765,480.7344,1629.8765,484.7344,1633.8765,480.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1635.8765" y1="480.7344" y2="480.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.3652" x="603.1577" y="475.8779">Check for cached data (Commercial/IFP key)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,507.0859,597.1577,511.0859,607.1577,515.0859,603.1577,511.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="1645.8765" y1="511.0859" y2="511.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.9072" x="613.1577" y="506.2295">Cache Miss</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="CoreAPI"><polygon fill="#181818" points="1985.8823,537.4375,1995.8823,541.4375,1985.8823,545.4375,1989.8823,541.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1991.8823" y1="541.4375" y2="541.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="520.9648" x="603.1577" y="536.5811">POST /eieheader/v4/healthpolicies/communicationcontents/search/retrieve (same params)</text></g><g class="message" data-participant-1="CoreAPI" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,567.7891,597.1577,571.7891,607.1577,575.7891,603.1577,571.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="2001.8823" y1="571.7891" y2="571.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424.1313" x="613.1577" y="566.9326">Return Plan Document List Response (HTTP 200/OK or HHL Not Signed)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,598.1406,1639.8765,602.1406,1629.8765,606.1406,1633.8765,602.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1635.8765" y1="602.1406" y2="602.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.4961" x="603.1577" y="597.2842">Cache Response (if not error, with 1-hour TTL)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,628.4922,597.1577,632.4922,607.1577,636.4922,603.1577,632.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="1645.8765" y1="632.4922" y2="632.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9917" x="613.1577" y="627.6357">Data cached</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="ClientBFF"><polygon fill="#181818" points="63.731,658.8438,53.731,662.8438,63.731,666.8438,59.731,662.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="57.731" x2="590.1577" y1="662.8438" y2="662.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.5024" x="69.731" y="657.9873">Return Plan Document List Response</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2105.9233" x="0" y="692.0195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="692.0195" y2="692.0195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="695.0195" y2="695.0195"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="450.3315" x="827.7959" y="680.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="432.7197" x="833.7959" y="698.3389">Scenario 3: Plan Document List (Medicare) - Cache Key Determination</text><g class="message" data-participant-1="ClientBFF" data-participant-2="BenefitService"><polygon fill="#181818" points="574.1577,733.5469,584.1577,737.5469,574.1577,741.5469,578.1577,737.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.731" x2="580.1577" y1="737.5469" y2="737.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="514.4268" x="59.731" y="732.6904">POST /plan-document-list/retrieve (policyResourceId, membershipResourceId, dateAsOf)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="767.8984" y2="767.8984"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="767.8984" y2="780.8984"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="780.8984" y2="780.8984"/><polygon fill="#181818" points="607.1577,776.8984,597.1577,780.8984,607.1577,784.8984,603.1577,780.8984" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.4951" x="603.1577" y="763.042">Determine if Medicare (membershipResourceId prefix 59~)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="CoreProxy"><polygon fill="#181818" points="1810.1587,807.25,1820.1587,811.25,1810.1587,815.25,1814.1587,811.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1816.1587" y1="811.25" y2="811.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332.3633" x="603.1577" y="806.3936">Call /v1/memberships/{id} (using membershipResourceId)</text></g><g class="message" data-participant-1="CoreProxy" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,837.6016,597.1577,841.6016,607.1577,845.6016,603.1577,841.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="1826.1587" y1="841.6016" y2="841.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352.625" x="613.1577" y="836.7451">Return membership details (including alternateIdentifications)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="871.9531" y2="871.9531"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="871.9531" y2="884.9531"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="884.9531" y2="884.9531"/><polygon fill="#181818" points="607.1577,880.9531,597.1577,884.9531,607.1577,888.9531,603.1577,884.9531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442.8887" x="603.1577" y="867.0967">Extract HIOS plan ID (IDT38) for IFP or determine Medicare Group/Individual</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="915.3047" y2="915.3047"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="915.3047" y2="928.3047"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="928.3047" y2="928.3047"/><polygon fill="#181818" points="607.1577,924.3047,597.1577,928.3047,607.1577,932.3047,603.1577,928.3047" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="734.1699" x="603.1577" y="910.4482">If Medicare, gather priorAdjacentContractPBP, externalPlanId, classCode from alternateIdentifications based on dateAsOf logic.</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="BenefitService"><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="638.1577" y1="958.6563" y2="958.6563"/><line style="stroke:#181818;stroke-width:1;" x1="638.1577" x2="638.1577" y1="958.6563" y2="971.6563"/><line style="stroke:#181818;stroke-width:1;" x1="597.1577" x2="638.1577" y1="971.6563" y2="971.6563"/><polygon fill="#181818" points="607.1577,967.6563,597.1577,971.6563,607.1577,975.6563,603.1577,971.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="1021.7188" x="603.1577" y="953.7998">Construct Medicare Cache Key (dateAsOf + policyResourceId + [externalPlanId + classCode + priorAdjacentContractPBP for Group] or [priorAdjacentContractPBP for Individual])</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2105.9233" x="0" y="1000.832"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="1000.832" y2="1000.832"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="1003.832" y2="1003.832"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="339.7998" x="883.0618" y="989.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="322.188" x="889.0618" y="1007.1514">Scenario 4: Plan Document List (Medicare) - Cached</text><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,1042.3594,1639.8765,1046.3594,1629.8765,1050.3594,1633.8765,1046.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.1577" x2="1635.8765" y1="1046.3594" y2="1046.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6543" x="603.1577" y="1041.5029">Check for cached data (Medicare key)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="607.1577,1072.7109,597.1577,1076.7109,607.1577,1080.7109,603.1577,1076.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="601.1577" x2="1645.8765" y1="1076.7109" y2="1076.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.1416" x="613.1577" y="1071.8545">Cache Hit (Plan Document List Data)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="ClientBFF"><polygon fill="#181818" points="63.731,1103.0625,53.731,1107.0625,63.731,1111.0625,59.731,1107.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="57.731" x2="590.1577" y1="1107.0625" y2="1107.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.7725" x="69.731" y="1102.2061">Return Cached Plan Document List</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2105.9233" x="0" y="1136.2383"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="1136.2383" y2="1136.2383"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2105.9233" y1="1139.2383" y2="1139.2383"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="365.0698" x="870.4268" y="1125.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="347.458" x="876.4268" y="1142.5576">Scenario 5: Plan Document List (Medicare) - Not Cached</text><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,1177.7656,1639.8765,1181.7656,1629.8765,1185.7656,1633.8765,1181.7656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="591.1577" x2="1635.8765" y1="1181.7656" y2="1181.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6543" x="598.1577" y="1176.9092">Check for cached data (Medicare key)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="602.1577,1208.1172,592.1577,1212.1172,602.1577,1216.1172,598.1577,1212.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="596.1577" x2="1645.8765" y1="1212.1172" y2="1212.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.9072" x="608.1577" y="1207.2607">Cache Miss</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="CoreAPI"><polygon fill="#181818" points="1985.8823,1238.4688,1995.8823,1242.4688,1985.8823,1246.4688,1989.8823,1242.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="591.1577" x2="1991.8823" y1="1242.4688" y2="1242.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="520.9648" x="598.1577" y="1237.6123">POST /eieheader/v4/healthpolicies/communicationcontents/search/retrieve (same params)</text></g><g class="message" data-participant-1="CoreAPI" data-participant-2="BenefitService"><polygon fill="#181818" points="602.1577,1268.8203,592.1577,1272.8203,602.1577,1276.8203,598.1577,1272.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="596.1577" x2="2001.8823" y1="1272.8203" y2="1272.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424.1313" x="608.1577" y="1267.9639">Return Plan Document List Response (HTTP 200/OK or HHL Not Signed)</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="Cache"><polygon fill="#181818" points="1629.8765,1299.1719,1639.8765,1303.1719,1629.8765,1307.1719,1633.8765,1303.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="591.1577" x2="1635.8765" y1="1303.1719" y2="1303.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.4961" x="598.1577" y="1298.3154">Cache Response (if not error, with 1-hour TTL)</text></g><g class="message" data-participant-1="Cache" data-participant-2="BenefitService"><polygon fill="#181818" points="602.1577,1329.5234,592.1577,1333.5234,602.1577,1337.5234,598.1577,1333.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="596.1577" x2="1645.8765" y1="1333.5234" y2="1333.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9917" x="608.1577" y="1328.667">Data cached</text></g><g class="message" data-participant-1="BenefitService" data-participant-2="ClientBFF"><polygon fill="#181818" points="63.731,1359.875,53.731,1363.875,63.731,1367.875,59.731,1363.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="57.731" x2="590.1577" y1="1363.875" y2="1363.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.5024" x="69.731" y="1359.0186">Return Plan Document List Response</text></g><!--SRC=[xLRRRjiu47tNLmpoiZPYHqqlm6w0573ifXQQRepQm3uKVM38iSMM4WMISc8iThzzXvGiNw8axWAxG2zFaYXovl2SCqCwwHJ2HB4SHfgN6UOEhgHry06TaRXa2Zg3FwQGv0uNXZcfysuKCUwqWQF168PA-YKNbvT7m6pzILzHmOoJN1QC_XvTO8vpwM2APYavLY47amJUCeUtR0N7SCMo6y6w8KezlPuT2URO3RC8HqF6KrgD9ukJ7Y4KqiPl5BDEXX_Lul2wctwe3VOdHj-jrWYgcJGSHk_FRcE4y3RBw3sApizXoZ5dHceuFMjRqXdgB4F39LDnSZdfGh-29-3yF6guWlxhlIrJiElf3EA2GlP57RAlA6HiAbs8XK8hoLSVqEhIS4n43pBCRj3OL1RReqGV3kprlEjbaqlwsYTuzxCDpWWTcapcME67TxXg0x19TJzaM7W6mnJv5vYJVNZ5X5TtdoZuWgijk9MaLUP-2xhgpvWCrcaHOKG9kf70lN3x23t4jI9dtlwboTTgtO-w7M-FpHrVF3_K5xzhzzCR_vattajhdxR0wtLjhpb6YIaoWIPUlepfJRaqR4oYZJcXAdF9Gq_aclfZxcniaHcURYbXMOP0_OLbTXjrtKFgPoloseAjlTaMEgU6s1dFPXDu_knPVFqEYBRn-2eOQIeNEOfTqzSP7oO_4BK9BUUGKoWqHfiUt4gNmca_9JbXDhlw2W5y-TLw_iiYV8I1GylmHNiPlgSZX3E3JMCEvbqREYZxxLOZ2RZU7tJQ4a9XQEaTlFhjx-u3jH2EH-yDfI1UdiQRC3R-Kug_e5DQcIzQzxDdz-gaRTuUi_mc6WXqJ2fBTiovAeNFHLM8XiIX5CIrdDSbQE_PlShuD6LlxfoXXJ1EhgVWXOHa19raD7lnQpTq8zzrw24QQXjUtnfT5d6I2xcKecJgW6p9HfOUB9XBqP0GKfk1-Cp8hsv8lSJZcLnCUe1tORFAkzTRXDDrnmwrG9WRdJt81VZxaW2oxzfJeFH2yfC3059-wqn9X3JRt6hiJRnZsBSr3NtSnKiZ6y373supa1oe_EHv_lZel0tPdxhHBxxTLQGkj3T7w5DMPeKYMXlyeVtuWwC7T4curQKIS8EjhWMP0scoMNAosqbU7jX9mZ7-jITT0_YxkV-yUfgktPlF_qhPpsl13tSj-0S0]--></g></svg>