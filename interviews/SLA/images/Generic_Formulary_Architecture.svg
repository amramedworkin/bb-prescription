<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="683px" preserveAspectRatio="none" style="width:794px;height:683px;background:#FFFFFF;" version="1.1" viewBox="0 0 794 683" width="794px" zoomAndPan="magnify"><title>Health Insurance Formulary API - Scalable Service Architecture</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="421.7158" x="179.1421" y="24.5332">Health Insurance Formulary API - Scalable Service Architecture</text><!--cluster Corporate Network--><g class="cluster" data-entity="Corporate Network" data-source-line="4" data-uid="ent0002" id="cluster_Corporate Network"><path d="M8.5,44.6094 L135.5205,44.6094 A3.75,3.75 0 0 1 138.0205,47.1094 L145.0205,68.2188 L784.5,68.2188 A2.5,2.5 0 0 1 787,70.7188 L787,674.1094 A2.5,2.5 0 0 1 784.5,676.6094 L8.5,676.6094 A2.5,2.5 0 0 1 6,674.1094 L6,47.1094 A2.5,2.5 0 0 1 8.5,44.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="145.0205" y1="68.2188" y2="68.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126.0205" x="10" y="61.1426">Corporate Network</text></g><!--cluster Public Subnet--><g class="cluster" data-entity="Public Subnet" data-source-line="6" data-uid="ent0003" id="cluster_Public Subnet"><polygon fill="none" points="30,219.6094,40,209.6094,340,209.6094,340,471.6094,330,481.6094,30,481.6094,30,219.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="330" x2="340" y1="219.6094" y2="209.6094"/><line style="stroke:#181818;stroke-width:1;" x1="30" x2="330" y1="219.6094" y2="219.6094"/><line style="stroke:#181818;stroke-width:1;" x1="330" x2="330" y1="219.6094" y2="481.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93.3379" x="134.3311" y="237.1426">Public Subnet</text></g><!--cluster Private Subnet--><g class="cluster" data-entity="Private Subnet" data-source-line="11" data-uid="ent0006" id="cluster_Private Subnet"><polygon fill="none" points="364,379.6094,374,369.6094,763,369.6094,763,471.6094,753,481.6094,364,481.6094,364,379.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="753" x2="763" y1="379.6094" y2="369.6094"/><line style="stroke:#181818;stroke-width:1;" x1="364" x2="753" y1="379.6094" y2="379.6094"/><line style="stroke:#181818;stroke-width:1;" x1="753" x2="753" y1="379.6094" y2="481.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="98.0273" x="510.4863" y="397.1426">Private Subnet</text></g><!--cluster Storage Zone--><g class="cluster" data-entity="Storage Zone" data-source-line="16" data-uid="ent0009" id="cluster_Storage Zone"><polygon fill="none" points="336,541.6094,346,531.6094,743,531.6094,743,642.6094,733,652.6094,336,652.6094,336,541.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="733" x2="743" y1="541.6094" y2="531.6094"/><line style="stroke:#181818;stroke-width:1;" x1="336" x2="733" y1="541.6094" y2="541.6094"/><line style="stroke:#181818;stroke-width:1;" x1="733" x2="733" y1="541.6094" y2="652.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89.4551" x="490.7725" y="559.1426">Storage Zone</text></g><!--entity Users--><g class="entity" data-entity="Users" data-source-line="21" data-uid="ent0012" id="entity_Users"><path d="M175.8637,90.6631 C178.3888,84.4608 182.3394,83.9254 187.3847,87.7745 C189.5753,82.4985 194.7939,80.8315 198.2812,86.4813 C200.5757,81.8012 205.2889,81.3274 208.4761,85.4471 C211.189,78.9006 216.4823,79.3357 220.0224,84.6412 C222.3231,78.9773 226.9877,77.9072 230.9478,82.9475 C233.6689,78.0031 237.4131,77.3462 241.6089,81.1505 C245.1492,75.6184 249.0398,76.6037 252.6499,81.0735 C256.6745,75.5899 260.2515,76.4519 264.2416,81.1129 C268.3898,76.8452 271.8327,76.8054 275.1931,82.0224 C280.3388,77.7761 283.3331,78.9638 285.2842,85.121 C288.7129,79.7585 292.805,80.606 296.2087,85.1484 C299.9173,79.2968 305.5619,79.8916 308.2138,86.1924 C312.5625,82.0637 317.882,83.4149 319.8899,89.0046 C323.0423,84.3979 326.2352,85.1662 329.1553,89.2521 C335.9276,92.0749 336.4018,96.527 331.4238,101.5221 C337.2807,104.4767 338.7887,109.4579 332.644,113.6227 C340.1188,117.9157 339.1932,123.5813 332.2269,127.4383 C337.9191,132.5739 334.6751,137.6511 328.8422,139.5717 C325.3777,145.4157 320.3958,145.5138 317.3891,139.1424 C313.9416,146.5191 308.0191,146.7007 304.0361,139.6376 C299.6061,145.6932 295.6775,145.989 291.2725,139.612 C287.2355,146.6806 283.119,145.999 278.6569,140.0231 C275.8183,146.5858 269.6193,148.5883 264.9619,141.9033 C261.1642,146.2617 257.0198,147.2579 254.0447,141.0532 C249.2636,147.8981 244.9507,146.4172 240.7586,140.4429 C237.2427,147.5885 232.2899,146.5096 228.0387,141.1934 C223.2994,147.6256 218.2554,147.8883 214.4515,140.2877 C211.0977,146.5373 205.1499,146.9668 201.7649,140.3184 C197.2565,145.0516 193.2564,145.2283 189.6499,139.2942 C184.5764,145.152 179.7902,146.3037 175.5651,138.4244 C170.1642,135.102 169.8242,131.3073 174.9051,127.3596 C168.9471,123.2838 167.8229,118.7034 173.9689,113.7924 C168.2947,109.71 169.6063,104.4389 175.9226,102.4155 C170.2692,98.4698 170.6936,94.663 175.8637,90.6631" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5928" x="182.5" y="110.1426">Partner Clients</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2549" x="182.5" y="127.752">(Pharmacies, Brokers)</text></g><!--entity API--><g class="entity" data-entity="API" data-source-line="7" data-uid="ent0004" id="entity_API"><rect fill="#F1F1F1" height="55.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.4893" x="180" y="250.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="190" y="275.1426">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.4893" x="190" y="292.752">(Receives requests)</text></g><!--entity Auth--><g class="entity" data-entity="Auth" data-source-line="8" data-uid="ent0005" id="entity_Auth"><rect fill="#F1F1F1" height="55.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186.5234" x="91.5" y="410.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3027" x="101.5" y="435.1426">Authentication Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.5234" x="101.5" y="452.752">(Token, session validation)</text></g><!--entity EC2A--><g class="entity" data-entity="EC2A" data-source-line="12" data-uid="ent0007" id="entity_EC2A"><rect fill="#F1F1F1" height="55.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166.2822" x="380" y="410.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2617" x="390" y="435.1426">App Server A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.2822" x="390" y="452.752">Handles formulary logic</text></g><!--entity EC2B--><g class="entity" data-entity="EC2B" data-source-line="13" data-uid="ent0008" id="entity_EC2B"><rect fill="#F1F1F1" height="55.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166.2822" x="581" y="410.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2617" x="591" y="435.1426">App Server B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.2822" x="591" y="452.752">Handles formulary logic</text></g><!--entity FormularyDB--><g class="entity" data-entity="FormularyDB" data-source-line="17" data-uid="ent0010" id="entity_FormularyDB"><path d="M352,582.6094 C352,572.6094 437.8618,572.6094 437.8618,572.6094 C437.8618,572.6094 523.7236,572.6094 523.7236,582.6094 L523.7236,626.8281 C523.7236,636.8281 437.8618,636.8281 437.8618,636.8281 C437.8618,636.8281 352,636.8281 352,626.8281 L352,582.6094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M352,582.6094 C352,592.6094 437.8618,592.6094 437.8618,592.6094 C437.8618,592.6094 523.7236,592.6094 523.7236,582.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4688" x="362" y="611.1426">Formulary Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7236" x="362" y="628.752">(Drug coverage records)</text></g><!--entity AuditLog--><g class="entity" data-entity="AuditLog" data-source-line="18" data-uid="ent0011" id="entity_AuditLog"><path d="M559.5,582.6094 C559.5,572.6094 643.041,572.6094 643.041,572.6094 C643.041,572.6094 726.582,572.6094 726.582,582.6094 L726.582,626.8281 C726.582,636.8281 643.041,636.8281 643.041,636.8281 C643.041,636.8281 559.5,636.8281 559.5,626.8281 L559.5,582.6094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M559.5,582.6094 C559.5,592.6094 643.041,592.6094 643.041,592.6094 C643.041,592.6094 726.582,592.6094 726.582,582.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2822" x="569.5" y="611.1426">Request Audit DB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.082" x="569.5" y="628.752">(Logging &amp; compliance)</text></g><!--link Users to API--><g class="link" data-entity-1="Users" data-entity-2="API" data-source-line="24" data-uid="lnk13" id="link_Users_API"><path d="M252,145.9194 C252,176.4094 252,215.8794 252,244.4994" fill="none" id="Users-to-API" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="252,250.4994,256,241.4994,252,245.4994,248,241.4994,252,250.4994" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7617" x="253" y="190.1045">HTTPS Formulary Request</text></g><!--link API to Auth--><g class="link" data-entity-1="API" data-entity-2="Auth" data-source-line="25" data-uid="lnk14" id="link_API_Auth"><path d="M179.83,283.1994 C143.03,289.3794 101.25,303.6194 78,335.6094 C57.23,364.1894 84.6847,388.5642 119.2647,407.6142" fill="none" id="API-to-Auth" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="124.52,410.5094,118.5671,402.6631,120.1406,408.0968,114.707,409.6702,124.52,410.5094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.3652" x="79" y="350.1045">Validate identity &amp; scope</text></g><!--link Auth to API--><g class="link" data-entity-1="Auth" data-entity-2="API" data-source-line="26" data-uid="lnk15" id="link_Auth_API"><path d="M199.13,410.4094 C207.45,394.2094 217.9,372.9794 226,353.6094 C232.5,338.0594 236.8734,325.955 241.6134,311.645" fill="none" id="Auth-to-API" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="243.5,305.9494,236.873,313.2351,241.9278,310.6958,244.4672,315.7506,243.5,305.9494" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.0781" x="233" y="350.1045">AuthZ OK</text></g><!--link API to EC2A--><g class="link" data-entity-1="API" data-entity-2="EC2A" data-source-line="27" data-uid="lnk16" id="link_API_EC2A"><path d="M287.79,305.9094 C326.71,335.0494 383.7376,377.7525 422.5776,406.8425" fill="none" id="API-to-EC2A" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="427.38,410.4394,422.5743,401.8425,423.378,407.442,417.7786,408.2457,427.38,410.4394" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6499" x="352" y="350.1045">Forward request</text></g><!--link API to EC2B--><g class="link" data-entity-1="API" data-entity-2="EC2B" data-source-line="28" data-uid="lnk17" id="link_API_EC2B"><path d="M324.17,289.9894 C389.26,301.6894 486.4,323.8794 564,361.6094 C590.02,374.2594 611.426,390.2545 630.386,406.4345" fill="none" id="API-to-EC2B" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="634.95,410.3294,630.7005,401.4445,631.1466,407.0837,625.5074,407.5298,634.95,410.3294" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1733" x="541" y="350.1045">Alternate path (load balanced)</text></g><!--link EC2A to FormularyDB--><g class="link" data-entity-1="EC2A" data-entity-2="FormularyDB" data-source-line="29" data-uid="lnk18" id="link_EC2A_FormularyDB"><path d="M436.07,465.6594 C428.38,474.9594 421.01,486.0094 417,497.6094 C408.53,522.0794 413.1947,545.3509 421.2247,566.7809" fill="none" id="EC2A-to-FormularyDB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="423.33,572.3994,423.9177,562.5681,421.5756,567.7173,416.4264,565.3751,423.33,572.3994" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1035" x="418" y="512.1045">Query formulary data</text></g><!--link EC2B to FormularyDB--><g class="link" data-entity-1="EC2B" data-entity-2="FormularyDB" data-source-line="30" data-uid="lnk19" id="link_EC2B_FormularyDB"><path d="M662.92,465.6194 C660.72,482.6294 654.9,503.7094 640,515.6094 C622.93,529.2494 562.38,515.7394 542,523.6094 C514.38,534.2794 492.4259,550.6992 473.1459,568.2592" fill="none" id="EC2B-to-FormularyDB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="468.71,572.2994,478.0573,569.1964,472.4066,568.9326,472.6704,563.2819,468.71,572.2994" style="stroke:#181818;stroke-width:1;"/></g><!--link EC2A to AuditLog--><g class="link" data-entity-1="EC2A" data-entity-2="AuditLog" data-source-line="31" data-uid="lnk20" id="link_EC2A_AuditLog"><path d="M503.87,465.7994 C517.42,475.2794 532.27,486.3994 545,497.6094 C571.33,520.7994 594.2578,545.7803 613.1778,567.7803" fill="none" id="EC2A-to-AuditLog" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="617.09,572.3294,614.2544,562.8976,613.8298,568.5384,608.1889,568.1139,617.09,572.3294" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6626" x="563" y="512.1045">Log request</text></g><!--link EC2B to AuditLog--><g class="link" data-entity-1="EC2B" data-entity-2="AuditLog" data-source-line="32" data-uid="lnk21" id="link_EC2B_AuditLog"><path d="M664.52,465.7494 C664.5,480.4994 663.98,499.1194 662,515.6094 C659.71,534.6994 656.6351,549.9262 652.6051,566.6562" fill="none" id="EC2B-to-AuditLog" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="651.2,572.4894,657.1964,564.6764,652.3709,567.6284,649.4189,562.8029,651.2,572.4894" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[XLF1ZjCm5BpdAvvwG5rfU-780QbfMRe2GTaK3gkzl3YFrAfh1zjfLI7-dN7Q96LNW1H5Zj_CU3pl9UfeX2OhOHEtT6z3wzageJldzwrXVwBv-fvcL2WsN09QY3ze0EPURNKK5LilaonhMEsuXjB2-SPvZaAV91wTtqtePqQ4nxeAzNLR6gseQ4ihyLmZyj1XMoSdwRZte1_vz6Id3w947oG0yQEL4CFDX3WaJozuRToAZLfnrCxsDY6nSJknjnGaX5GuiD5LXxb8WGUjNzdeqEj3ylztYqtJwOkd-PDTiQqC77uV4ZEkrgeJVxTuFVy7E_ylE__JMX4HBL9-T5PwOxWCbnnG7Nksn1wkllHjJShXg4I21-UhIu83Tfa_Ktau9urWAXrf2O_JZwwkjQtf5SJsZT5fGlhq04AvjwcCQoj4o3vQN71XD7eI8B7Uij-pqX9kAVTeYRyO-Hgmp43k5ZIRlUqcxWsjDfjrSJM75rzPDuy9XSO1zktSJo5TfVR74rm6vHh9Ei2ebpuVwVE7GI0r1_iuuSY-wYVikfmdcedYRJgWOUXDZUEAIlmCoA2woJgH1ByA5AmlhS3osDGKRzOfFiEE0dsKOATtRsSW3L7_1W00]--></g></svg>